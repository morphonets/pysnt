{% extends "pydata_sphinx_theme/layout.html" %}

{% block extrahead %}
{{ super() }}
<style>
    /* Icon spacing in navigation */
    .navbar-nav .nav-link i[class*="fa-"]:not(:last-child) {
        margin-right: 0.4rem;
    }

    /* Fix duplicate search icons on mobile */
    @media (min-width: 960px) {
        .navbar-persistent--mobile {
            display: none;
        }
    }

    @media (max-width: 959px) {
        .navbar-persistent--container {
            display: none;
        }
        
        .navbar-header-items__center {
            display: none;
        }
    }

    /* Home icon only - hide text */
    .bd-navbar .navbar-brand::before {
        content: "\f015";
        font-family: "Font Awesome 6 Free";
        font-weight: 900;
        font-size: 1.2rem;
        color: var(--pst-color-text-base);
    }
    
    .bd-navbar .navbar-brand .title {
        display: none;
    }

    /* Built-in theme switcher styling adjustments */
    .theme-switcher {
        margin-left: 0.5rem;
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Add compact styling to API landing page
        const currentPath = window.location.pathname;
        
        if (currentPath.endsWith('/api.html') || currentPath.endsWith('/api/')) {
            document.body.classList.add('api-landing-page');
        }
        
        // Add parent link to API auto pages
        if (currentPath.includes('/api_auto/') && !currentPath.includes('/pysnt.html')) {
            const nav = document.querySelector('.bd-docs-nav .bd-toc-item');
            if (nav) {
                const parentLink = document.createElement('ul');
                parentLink.className = 'nav bd-sidenav';
                parentLink.style.marginBottom = '1rem';
                parentLink.style.paddingBottom = '0.5rem';
                parentLink.style.borderBottom = '1px solid var(--pst-color-border)';
                parentLink.innerHTML = '<li class="toctree-l1"><a class="reference internal" href="pysnt.html"><span class="doc">‚Üê pysnt package</span></a></li>';
                nav.insertBefore(parentLink, nav.firstChild);
            }
        }
    });
</script>
{% endblock %}